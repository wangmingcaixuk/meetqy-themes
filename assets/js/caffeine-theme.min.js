/**
 * meetqy-themes - Material Design Inspired theme for Ghost
 * @version 3.0.5
 * @link    https://github.com/meetqy/meetqy-themes
 * @author  meetqy (https://github.com/meetqy/)
 * @license MIT
 */
"use strict";!function(w){var font1=new w.FontFaceObserver("Raleway",{weight:400}),font2=new w.FontFaceObserver("Raleway",{weight:700}),font3=new w.FontFaceObserver("Roboto Slab",{weight:300}),font4=new w.FontFaceObserver("Roboto Slab",{weight:400});w.Promise.all([font1.check(),font2.check(),font3.check(),font4.check()]).then(function(){-1==w.document.documentElement.className.indexOf("fonts-loaded")&&(w.document.documentElement.className+=" fonts-loaded");try{var storage=window.sessionStorage;storage&&storage.setItem("fonts-loaded","1")}catch(e){}}).catch(function(){w.document.documentElement.className+=" fonts-unavailable"})}(this),$(function(){window.CaffeineTheme={version:"3.0.4",search:{container:function(){return $("#results")},form:function(action){return $("#search-container")[action]()}},context:function(){var className;return""===(className=document.body.className.split(" ")[0].split("-")[0])?"error":className},app:document.body,is:function(property,value){return this.app.dataset?this.app.dataset[property]===value:this.app.getAttribute("data-"+property)===value},redirect:function(pageNum){var redirectUrl="";redirectUrl+=pageNum>1?"/page/"+pageNum+"/#open":"/#open",window.location.href=redirectUrl},isOpen:function(){return"#open"===location.hash},getOpenHashFragment:function(){return"#open"},open:function(){window.history.replaceState(null,null,"#open")},close:function(){window.history.replaceState(null,null,"#")},getLastPageNum:function(){var pageNum="";return window.store&&window.store.enabled&&(pageNum=window.store.get("pageNum")||""),pageNum},setLastPageNum:function(){var pageNum=$("#pageNum").text()||"";pageNum.length>0&&window.store&&window.store.enabled&&window.store.set("pageNum",pageNum)},readTime:function(){return new function(selector){return $(selector).each(function(){var publishDate,timeAgo;return publishDate=$(this).attr("datetime"),timeAgo=$(this).html(),$(this).mouseover(function(){return $(this).html(publishDate)}),$(this).mouseout(function(){return $(this).html(timeAgo)})})}(".meta > time")},device:function(){var w;return w=window.innerWidth,window.innerHeight,w<=480?"mobile":w<=1024?"tablet":"desktop"},hideIndexPage:function(){$("#default-nav-header, .blog-header, .material-cover, .page-index").addClass("transparent")},showIndexPage:function(){$("#default-nav-header, .blog-header, .material-cover, .page-index").removeClass("transparent")},showNotification:function(){if(window.notificationOptions&&window.toastr){var setNotificationStore,message=window.notificationOptions.message||"",type=window.notificationOptions.type||"info",isShownOnce=window.notificationOptions.isShownOnce||!0,storeValue="";setNotificationStore=function(){window.store&&window.store.enabled&&(storeValue&&window.store.remove("notification"),isShownOnce&&window.store.set("notification",message))},window.toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-bottom-right",preventDuplicates:!0,onclick:null,escapeHtml:window.notificationOptions.escapeHtml||!1,timeOut:window.notificationOptions.timeOut||"25000",extendedTimeOut:window.notificationOptions.extendedTimeOut||"10000",onHidden:setNotificationStore},window.store&&window.store.enabled&&(storeValue=window.store.get("notification")||""),void 0!==storeValue&&storeValue===message||window.toastr[type](message)}},getGridWidth:function(numColumns){var width=null;return!isNaN(numColumns)&&numColumns>0&&2!==numColumns&&(width=Math.floor((100-2*numColumns)/numColumns),width+="%"),width},mediaQueryListener:function(mediaQuery,onMatch,onNoMatch){var mq=window.matchMedia(mediaQuery);mq.matches?onMatch.call(this):onNoMatch.call(this),mq.addListener(function(changed){changed.matches?onMatch.call(this):onNoMatch.call(this)})}}}),$(function(){var $postsGrid,el,$posts=$("ol.posts");if((el=CaffeineTheme.app).dataset?(el.dataset.page=CaffeineTheme.context(),el.dataset.device=CaffeineTheme.device()):$(el).attr("data-page",CaffeineTheme.context()).attr("data-device",CaffeineTheme.device()),CaffeineTheme.readTime(),window.profile_title&&$(".profile-title").text(window.profile_title),window.profile_resume&&$("#profile-resume").text(window.profile_resume),window.tag_names)for(var i=0;i<window.tag_names.length;i++){var tag=window.tag_names[i],link="/tag/"+tag+"/"+CaffeineTheme.getOpenHashFragment();$("<a>",{href:link,text:tag}).appendTo("#popular-tags .tags")}if(window.mailchimpOptions&&window.mailchimpOptions.url&&$(".subscribe-button").removeClass("hide"),CaffeineTheme.is("page","post")&&($("main").readingTime({readingTimeTarget:".reading-time > span"}),$(".content").fitVids(),$("#back-button").on("click",function(event){var lastPageNum=CaffeineTheme.getLastPageNum();event.preventDefault(),lastPageNum.length>0?CaffeineTheme.redirect(lastPageNum):window.history.back()})),$posts&&$posts.masonry){if($postsGrid=$posts.masonry({itemSelector:".card",percentPosition:!0}),window.gridOptions){var gridOptions=window.gridOptions,width=CaffeineTheme.getGridWidth(gridOptions.columns);width&&CaffeineTheme.mediaQueryListener("all and (max-width: 700px)",function(){$posts.find(".card").css("width","100%")},function(){$posts.find(".card").css("width",width)})}$postsGrid.imagesLoaded&&$postsGrid.imagesLoaded().done(function(){$postsGrid.masonry("layout")}).progress(function(){$postsGrid.masonry("layout")})}else $posts.find(".card").css("width",CaffeineTheme.getGridWidth(1));$(window).load(function(){CaffeineTheme.is("page","home")&&($(".blog-header").addClass("animated fade-in"),CaffeineTheme.isOpen()&&CaffeineTheme.showNotification()),$posts.addClass("animated fade-in"),window.ScrollReveal&&$(".card").length>0?window.sr=window.ScrollReveal().reveal(".card",{afterReveal:function(){$postsGrid&&$postsGrid.masonry("layout")}}):$posts.css("visibility","visible"),CaffeineTheme.setLastPageNum()})}),$(function(){var _expandCover,_isTagsOverlayOpen,_toggleTagsOverlay,_defaultLogoNavEvent,$navHeader,$tagsButton,$homeButton,$cover,$tagsOverlay,$searchField;if($cover=$(".cover"),$navHeader=$("#default-nav-header"),$tagsButton=$(".tags-button"),$homeButton=$navHeader.find("#home-button"),$tagsOverlay=$(".tags-overlay"),$searchField=$("#search-field"),_expandCover=function(){$cover.toggleClass("expanded"),$cover.hasClass("expanded")?CaffeineTheme.close():CaffeineTheme.open()},_toggleTagsOverlay=function(){$tagsOverlay.toggleClass("show"),$tagsButton.find("i").toggleClass("fa-search fa-close"),$searchField.focus()},_isTagsOverlayOpen=function(){return $tagsOverlay.hasClass("show")},_defaultLogoNavEvent=function(event){return event.preventDefault(),CaffeineTheme.showIndexPage(),_isTagsOverlayOpen()&&_toggleTagsOverlay(),CaffeineTheme.is("page","home")&&CaffeineTheme.showNotification(),_expandCover()},$tagsButton.click(function(){_toggleTagsOverlay()}),$(".home-link").click(function(event){if(CaffeineTheme.is("page","home")&&(event.preventDefault(),CaffeineTheme.showIndexPage(),CaffeineTheme.showNotification(),!CaffeineTheme.isOpen()))return _expandCover()}),$(".subscribe-link").click(function(event){if(event.preventDefault(),window.toastr&&window.toastr.remove(),window.mailchimpOptions&&window.mailchimpOptions.url){var options=window.mailchimpOptions;$("body").subbscribe({title:options.title||"Never miss a post!",text:options.text||"Stay up to the date with the latest posts!",name:options.name||"<a href='https://www.facebook.com/caffeinecoding' target='_blank'>@caffeinecoding</a>",color:options.color||"#56817A",thumbnail:options.thumbnail||"http://i.imgur.com/39erIwp.png",list:"MailChimp",url:options.url})}}),$homeButton.click(_defaultLogoNavEvent),$(".open-link").click(_defaultLogoNavEvent),CaffeineTheme.is("page","home")&&!CaffeineTheme.isOpen()){if(!window.disableCover)return CaffeineTheme.hideIndexPage(),_expandCover();CaffeineTheme.open()}}),$(function(){var showTags,hideTags,$searchField=$("#search-field"),$popularTags=$("#popular-tags");return showTags=function(){return $popularTags.show()},hideTags=function(){return $popularTags.hide()},$searchField.ghostHunter({results:"#search-results",zeroResultsInfo:!1,onKeyUp:!0,displaySearchInfo:!0,result_template:'<a class="result" href=\'{{link}}\'>\n  <h2>{{title}}</h2>\n  <h4><time datetime="{{date published_at format="YYYY-MM-DD"}}">{{date published_at format="YYYY-MM-DD"}}</time></h4>\n</a>',onComplete:function(query){return query.length>0?hideTags():showTags()}})});